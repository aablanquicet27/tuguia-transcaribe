<!DOCTYPE html>
<html>
<head>
  <title>Prueba GeoJSON Leaflet</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>#map { height: 600px; width: 100%; }</style>
</head>
<body>
  <div id="map"></div>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    var map = L.map('map').setView([10.4, -75.5], 12);

    fetch('rutas_transcaribe.geojson')
      .then(r => r.json())
      .then(data => {
        data.features.forEach(f => {
          if (f.geometry && f.geometry.type === "Point" && f.properties && f.properties.network === "Transcaribe") {
            const coords = f.geometry.coordinates;
            const lat = coords[1], lon = coords[0];
            const props = f.properties;
            const popup = `<b>${props.nombre_paradero || 'Paradero'}</b><br>` +
              (props.coordenadas ? `<b>Coordenadas:</b> ${props.coordenadas}<br>` : '') +
              (props.rutas ? `<b>Rutas:</b> ${Array.isArray(props.rutas) ? props.rutas.join(', ') : props.rutas}<br>` : '') +
              (props.network ? `<b>Red:</b> ${props.network}<br>` : '') +
              (props.tipos_ruta ? `<b>Tipos de Ruta:</b> ${Array.isArray(props.tipos_ruta) ? props.tipos_ruta.join(', ') : props.tipos_ruta}<br>` : '') +
              (props.fuente ? `<b>Fuente:</b> ${props.fuente}<br>` : '');
            L.marker([lat, lon], {
              icon: L.icon({
                iconUrl: 'BUS.jpeg',
                iconSize: [32, 32],
                iconAnchor: [16, 32]
              })
            }).addTo(map).bindPopup(popup);
          }
        });
      });
  </script>
</body>
</html> 